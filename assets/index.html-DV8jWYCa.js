import{_ as i,c as a,a as e,o as n}from"./app-LBo_V5cW.js";const l={};function h(t,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<p>本文档将指导您如何在您的 VuePress 项目中集成动态粒子背景效果，包括组件安装、配置说明和样式自定义。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>访问 <a href="https://doc.zxbhello.top/nav/" target="_blank" rel="noopener noreferrer">ZXBHELLO的导航页</a>，查看整个站点应用的粒子效果示例。</li><li>访问 <a href="https://doc.zxbhello.top/blog/particle-disable-test/" target="_blank" rel="noopener noreferrer">粒子效果禁用测试</a>，查看禁用粒子效果示例。</li></ul></div><h2 id="功能特性" tabindex="-1"><a class="header-anchor" href="#功能特性"><span>功能特性</span></a></h2><p>粒子背景效果提供以下特性：</p><ul><li>生动的视觉效果：彩色粒子与连接线的动态动画</li><li>交互式体验：粒子会对鼠标移动进行响应</li><li>响应式设计：自动适配桌面和移动设备</li><li>灵活控制：支持按页面禁用效果</li><li>深色模式支持：自动适配浅色和深色主题</li><li>高性能：使用 Canvas 和优化算法确保流畅动画</li></ul><h2 id="前置准备" tabindex="-1"><a class="header-anchor" href="#前置准备"><span>前置准备</span></a></h2><h3 id="项目要求" tabindex="-1"><a class="header-anchor" href="#项目要求"><span>项目要求</span></a></h3><ul><li>VuePress 2.0 或更高版本</li><li>Vue 3.x</li><li>TypeScript（推荐，但可选）</li><li>现有的 <code>.vuepress/client.ts</code> 文件或支持创建该文件</li></ul><h3 id="下载必要文件" tabindex="-1"><a class="header-anchor" href="#下载必要文件"><span>下载必要文件</span></a></h3><p>从项目中复制以下文件到您的项目：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>.vuepress/</span></span>
<span class="line"><span>├── components/</span></span>
<span class="line"><span>│   ├── ParticleBackground.vue    # 粒子效果核心组件</span></span>
<span class="line"><span>│   └── AppSetup.vue              # 应用启动组件（全局注入）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构"><span>目录结构</span></a></h2><p>粒子效果由以下文件组成：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>.vuepress/</span></span>
<span class="line"><span>├── components/</span></span>
<span class="line"><span>│   ├── ParticleBackground.vue    # 粒子动画和逻辑实现</span></span>
<span class="line"><span>│   └── AppSetup.vue              # 全局注入粒子效果</span></span>
<span class="line"><span>└── client.ts                     # 客户端配置（需要修改）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装步骤" tabindex="-1"><a class="header-anchor" href="#安装步骤"><span>安装步骤</span></a></h2><h3 id="复制组件文件" tabindex="-1"><a class="header-anchor" href="#复制组件文件"><span>复制组件文件</span></a></h3><p>将以下两个文件复制到您的项目中：</p><ol><li><code>ParticleBackground.vue</code> - 核心粒子效果组件</li><li><code>AppSetup.vue</code> - 应用启动时注入粒子效果的包装组件</li></ol><h3 id="更新-client-ts" tabindex="-1"><a class="header-anchor" href="#更新-client-ts"><span>更新 client.ts</span></a></h3><p>在您的 <code>.vuepress/client.ts</code> 文件中添加以下导入和配置。如果该文件不存在，创建一个新文件：</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> defineClientConfig</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vuepress/client</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 保留您现有的语句并导入需要添加的内容</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ParticleBackground</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./components/ParticleBackground.vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> AppSetup</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./components/AppSetup.vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> defineClientConfig</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  enhance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({ </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 保留您现有的组件注册</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 添加粒子背景组件注册</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">component</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ParticleBackground</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ParticleBackground</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  // 添加 AppSetup 到根组件，使其在整个应用中可用</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  rootComponents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">AppSetup</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="验证安装" tabindex="-1"><a class="header-anchor" href="#验证安装"><span>验证安装</span></a></h3><p>完成以上步骤后，重启您的 VuePress 开发服务器：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pnpm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docs:dev</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>访问任何页面，您应该能看到背景中的动态粒子效果。</p><h2 id="配置说明" tabindex="-1"><a class="header-anchor" href="#配置说明"><span>配置说明</span></a></h2><h3 id="全局配置" tabindex="-1"><a class="header-anchor" href="#全局配置"><span>全局配置</span></a></h3><p>粒子效果默认在所有页面启用。无需额外配置即可在整个站点使用。</p><h3 id="按页面禁用效果" tabindex="-1"><a class="header-anchor" href="#按页面禁用效果"><span>按页面禁用效果</span></a></h3><p>如果需要在特定页面禁用粒子背景效果，在该页面的 Markdown frontmatter 中添加 <code>disableParticle: true</code>：</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-markdown"><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title: 我的文章标题</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">date: 2024-01-01</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">disableParticle: true</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">页面内容...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景"><span>使用场景</span></a></h4><p>以下情况建议禁用粒子效果：</p><ul><li>需要用户专注阅读重要内容的页面</li><li>包含大量代码示例或数据表格的页面</li><li>设备性能较低的用户访问</li><li>某些特殊的展示页面</li></ul><h2 id="自定义配置" tabindex="-1"><a class="header-anchor" href="#自定义配置"><span>自定义配置</span></a></h2><h3 id="调整粒子参数" tabindex="-1"><a class="header-anchor" href="#调整粒子参数"><span>调整粒子参数</span></a></h3><p>编辑 <code>ParticleBackground.vue</code> 中的 <code>config</code> 对象来自定义粒子行为：</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> = {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  baseDensity</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,           </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 粒子密度（数值越大粒子越少）</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  maxParticles</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,         </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 最多粒子数量</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  particleSpeed</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,        </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 粒子移动速度</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  lineMaxDistance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,      </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 连接线的最大距离</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  lineOpacity</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0.3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,          </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 连接线的透明度（0-1）</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  mouseRadius</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">150</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,          </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 鼠标影响范围</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  maxConnections</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,         </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 每个粒子最多连接数</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改粒子颜色" tabindex="-1"><a class="header-anchor" href="#修改粒子颜色"><span>修改粒子颜色</span></a></h3><p>在 <code>ParticleBackground.vue</code> 中修改 <code>colors</code> 数组：</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">colors</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#4CAF50</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#2196F3</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#E91E63</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#FFC107</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 改为您喜欢的颜色，例如：</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">colors</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#FF6B6B</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#4ECDC4</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#45B7D1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">#FFA07A</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调整-canvas-样式" tabindex="-1"><a class="header-anchor" href="#调整-canvas-样式"><span>调整 Canvas 样式</span></a></h3><p>修改 <code>&lt;style&gt;</code> 部分中的 CSS：</p><div class="language-css line-numbers-mode" data-highlighter="shiki" data-ext="css" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-css"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">particle-canvas</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  position</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> fixed</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  top</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  left</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  z-index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> -1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">           /* 确保在页面内容下方 */</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  pointer-events</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> none</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  /* 不拦截鼠标事件 */</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  width</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">vw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  height</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 100</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">vh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="主题兼容性" tabindex="-1"><a class="header-anchor" href="#主题兼容性"><span>主题兼容性</span></a></h2><p>粒子效果已完全支持深色模式：</p><ul><li>浅色模式：使用白色连接线和清晰的粒子</li><li>深色模式：自动调整为浅灰色连接线，确保在深色背景上清晰可见</li></ul><p>主题切换时，粒子效果会自动更新颜色，无需手动干预。</p><h2 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化"><span>性能优化</span></a></h2><p>粒子效果经过多项优化，确保在各种设备上都能流畅运行：</p><h3 id="桌面设备" tabindex="-1"><a class="header-anchor" href="#桌面设备"><span>桌面设备</span></a></h3><ul><li>最多 100 个粒子（比之前减少以提升性能）</li><li>60fps 动画帧率</li><li>优化的渲染算法和连接线计算</li></ul><h3 id="移动设备" tabindex="-1"><a class="header-anchor" href="#移动设备"><span>移动设备</span></a></h3><ul><li>完全禁用粒子效果以提升性能</li></ul><h3 id="渲染性能" tabindex="-1"><a class="header-anchor" href="#渲染性能"><span>渲染性能</span></a></h3><ul><li>使用 <code>requestAnimationFrame</code> 实现高效动画</li><li>Canvas 双缓冲渲染</li><li>防止内存泄漏的事件监听器管理</li><li>连接线计算优化，提前终止不必要的循环</li><li>动画帧节流优化，避免不必要的重绘</li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h3 id="q-粒子效果会影响页面加载速度吗" tabindex="-1"><a class="header-anchor" href="#q-粒子效果会影响页面加载速度吗"><span>Q: 粒子效果会影响页面加载速度吗？</span></a></h3><p>A: 影响极小。粒子效果使用 Canvas 进行高性能渲染，对页面加载时间影响不明显。首次加载时会初始化 Canvas，之后的性能开销主要是动画帧绘制。经过优化后，现在的粒子效果更加流畅且占用资源更少。</p><h3 id="q-如何在我的项目中禁用某个页面的粒子效果" tabindex="-1"><a class="header-anchor" href="#q-如何在我的项目中禁用某个页面的粒子效果"><span>Q: 如何在我的项目中禁用某个页面的粒子效果？</span></a></h3><p>A: 在页面的 frontmatter 中添加 <code>disableParticle: true</code>：</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-markdown"><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title: 页面标题</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">disableParticle: true</span></span>
<span class="line"><span style="--shiki-light:#1C6B48;--shiki-light-font-weight:bold;--shiki-dark:#4D9375;--shiki-dark-font-weight:bold;">---</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="q-粒子颜色可以动态改变吗" tabindex="-1"><a class="header-anchor" href="#q-粒子颜色可以动态改变吗"><span>Q: 粒子颜色可以动态改变吗？</span></a></h3><p>A: 当前版本的颜色是固定的。如需动态颜色，可以修改 <code>colors</code> 数组或增强 <code>ParticleEffect</code> 类以接受自定义颜色参数。</p><h3 id="q-如何处理移动设备上的性能问题" tabindex="-1"><a class="header-anchor" href="#q-如何处理移动设备上的性能问题"><span>Q: 如何处理移动设备上的性能问题？</span></a></h3><p>A: 粒子效果现在在移动设备上完全禁用，以确保最佳性能。如果需要在移动设备上启用粒子效果，可以在 <code>ParticleBackground.vue</code> 组件中移除相关限制。</p><h3 id="q-粒子效果为什么被页面内容遮挡" tabindex="-1"><a class="header-anchor" href="#q-粒子效果为什么被页面内容遮挡"><span>Q: 粒子效果为什么被页面内容遮挡？</span></a></h3><p>A: 确保 CSS 中的 <code>z-index: -1</code> 正确设置。这使粒子 Canvas 显示在页面内容的下方。</p><h3 id="q-如何保留我原有的-client-ts-配置" tabindex="-1"><a class="header-anchor" href="#q-如何保留我原有的-client-ts-配置"><span>Q: 如何保留我原有的 client.ts 配置？</span></a></h3><p>A: 在修改 <code>client.ts</code> 时，只需在现有配置的基础上添加粒子相关的导入和注册，不要替换整个文件。例如：</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> default</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> defineClientConfig</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  enhance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({ </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 保留现有组件</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">component</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">YourComponent</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">YourComponent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 添加粒子背景</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">component</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ParticleBackground</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ParticleBackground</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  </span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  rootComponents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">AppSetup</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">], </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 在现有根组件基础上添加</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="故障排除" tabindex="-1"><a class="header-anchor" href="#故障排除"><span>故障排除</span></a></h2><h3 id="粒子不显示" tabindex="-1"><a class="header-anchor" href="#粒子不显示"><span>粒子不显示</span></a></h3><ul><li>检查 <code>AppSetup.vue</code> 是否在 <code>rootComponents</code> 中注册</li><li>确认 <code>ParticleBackground.vue</code> 组件路径正确</li><li>检查浏览器控制台是否有错误信息</li></ul><h3 id="粒子覆盖内容" tabindex="-1"><a class="header-anchor" href="#粒子覆盖内容"><span>粒子覆盖内容</span></a></h3><ul><li>检查 CSS 中 <code>z-index</code> 是否为 <code>-1</code></li><li>确保 <code>pointer-events: none</code> 已设置</li></ul><h3 id="深色模式下粒子不可见" tabindex="-1"><a class="header-anchor" href="#深色模式下粒子不可见"><span>深色模式下粒子不可见</span></a></h3><ul><li>检查主题切换是否正常工作</li><li>尝试刷新页面</li><li>检查 <code>updateThemeColors()</code> 方法是否被调用</li></ul><h3 id="性能问题" tabindex="-1"><a class="header-anchor" href="#性能问题"><span>性能问题</span></a></h3><ul><li>减少 <code>maxParticles</code> 的值</li><li>增加 <code>baseDensity</code> 值（粒子会变少）</li><li>在不需要的页面禁用效果</li></ul><h2 id="高级用法" tabindex="-1"><a class="header-anchor" href="#高级用法"><span>高级用法</span></a></h2><h3 id="创建自定义粒子效果" tabindex="-1"><a class="header-anchor" href="#创建自定义粒子效果"><span>创建自定义粒子效果</span></a></h3><p>如需创建与众不同的粒子效果，可以：</p><ol><li>复制 <code>ParticleBackground.vue</code> 并重命名</li><li>修改 <code>ParticleEffect</code> 类中的算法</li><li>自定义 <code>drawParticle()</code> 和 <code>animate()</code> 方法</li><li>在特定页面通过组件注册使用</li></ol><h3 id="集成其他动画效果" tabindex="-1"><a class="header-anchor" href="#集成其他动画效果"><span>集成其他动画效果</span></a></h3><p>粒子背景可以与其他 Canvas 动画结合。修改 <code>animate()</code> 方法以支持多个效果层。</p><h2 id="获取帮助" tabindex="-1"><a class="header-anchor" href="#获取帮助"><span>获取帮助</span></a></h2><p>如遇到问题，您可以：</p><ol><li>查看 <a href="https://github.com/ZXBHELLO/Website" target="_blank" rel="noopener noreferrer">ZXBHELLO 的 GitHub 项目</a></li><li>检查项目中的相关组件实现</li><li>提交 Issue 或 Pull Request</li></ol><h2 id="参考资源" tabindex="-1"><a class="header-anchor" href="#参考资源"><span>参考资源</span></a></h2><ul><li><a href="https://v2.vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress 官方文档</a></li><li><a href="https://vuejs.org/" target="_blank" rel="noopener noreferrer">Vue 3 文档</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="_blank" rel="noopener noreferrer">Canvas API 参考</a></li><li><a href="https://github.com/ZXBHELLO/Website" target="_blank" rel="noopener noreferrer">ZXBHELLO 项目仓库</a></li></ul><hr><p><strong>祝您使用愉快！</strong> 如果这个教程对您有帮助，欢迎在 GitHub 上 Star ⭐ 或分享给其他人。</p><div style="text-align:center;"><p><code>本组件由ZXBHELLO制作，引用、使用、转载请保留设计者信息。</code></p></div>`,94)])])}const d=i(l,[["render",h]]),k=JSON.parse('{"path":"/article/particle-guide/","title":"粒子背景效果配置教程","lang":"zh-CN","frontmatter":{"title":"粒子背景效果配置教程","lastUpdated":true,"tags":["VuePress","粒子效果","前端开发"],"permalink":"/article/particle-guide/","createTime":"2025/12/12 23:51:02","description":"本文档将指导您如何在您的 VuePress 项目中集成动态粒子背景效果，包括组件安装、配置说明和样式自定义。 提示 访问 ZXBHELLO的导航页，查看整个站点应用的粒子效果示例。 访问 粒子效果禁用测试，查看禁用粒子效果示例。 功能特性 粒子背景效果提供以下特性： 生动的视觉效果：彩色粒子与连接线的动态动画 交互式体验：粒子会对鼠标移动进行响应 响应...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"粒子背景效果配置教程\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-13T04:31:27.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.zakozako.cc/article/particle-guide/"}],["meta",{"property":"og:site_name","content":"Zako"}],["meta",{"property":"og:title","content":"粒子背景效果配置教程"}],["meta",{"property":"og:description","content":"本文档将指导您如何在您的 VuePress 项目中集成动态粒子背景效果，包括组件安装、配置说明和样式自定义。 提示 访问 ZXBHELLO的导航页，查看整个站点应用的粒子效果示例。 访问 粒子效果禁用测试，查看禁用粒子效果示例。 功能特性 粒子背景效果提供以下特性： 生动的视觉效果：彩色粒子与连接线的动态动画 交互式体验：粒子会对鼠标移动进行响应 响应..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-13T04:31:27.000Z"}],["meta",{"property":"article:tag","content":"前端开发"}],["meta",{"property":"article:tag","content":"粒子效果"}],["meta",{"property":"article:tag","content":"VuePress"}],["meta",{"property":"article:modified_time","content":"2025-12-13T04:31:27.000Z"}]]},"readingTime":{"minutes":6.48,"words":1945},"git":{"createdTime":1763181189000,"updatedTime":1765600287000,"contributors":[{"name":"ZXBHELLO","username":"ZXBHELLO","email":"124427376+ZXBHELLO@users.noreply.github.com","commits":11,"avatar":"https://avatars.githubusercontent.com/ZXBHELLO?v=4","url":"https://github.com/ZXBHELLO"}]},"autoDesc":true,"filePathRelative":"articles/性能优化-体验提升/particle-guide.md","headers":[],"categoryList":[{"id":"1bd673","sort":10000,"name":"性能优化-体验提升"}]}');export{d as comp,k as data};
